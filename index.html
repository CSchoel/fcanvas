<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Overview (FCanvas 1.3.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="package index">
<meta name="generator" content="javadoc/PackageIndexWriter">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-index-page">
<script type="text/javascript">var pathtoroot = "./";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><img src="./resources/Schlammspringer.png" alt="Mudskipper"/></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li class="nav-bar-cell1-rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html#overview">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 class="title">FCanvas 1.3.1 API</h1>
</div>
<div class="block"><h1 id="what-is-fcanvas">What is FCanvas?</h1>
<p><img src="resources/fcanvas-final.svg" alt="FCanvas-Logo"/></p>
<p>FCanvas is a lightweight, easy-to-use Java library for drawing and animating simple graphic objects. It assumes no knowledge of Java, graphical user interfaces, or computer graphics beyond calling static Java methods. Ultimately, it is an encapsulation of the Java 2D API using the class <code>de.thm.mni.oop.fcanvas.FCanvas</code> as the only user interface.</p>
<p>The library was developed to enable students to quickly solve graphical sample tasks and even program small games themselves while learning the programming language Java. It offers an extremely simple interface while preserving as much performance and reactivity as possible.</p>
<h1 id="embed-in-eclipse">Embed in Eclipse</h1>
<p>You can integrate a JAR file as a library in Eclipse in various ways: in the entire workspace as part of the system library or only in a single project.</p>
<h2 id="in-a-single-project">In a single project</h2>
<p>To include FCanvas in a single project in Eclipse, right-click on the project and then select Properties → Java Build Path → Libraries → Add external JARs.. In the selection dialog there, you must now specify the path to the FCanvas JAR file and confirm the selection.</p>
<h2 id="throughout-the-workspace">Throughout the workspace</h2>
<p>Embedding for the entire workspace is a little more complicated. Eclipse allows additional JAR files to be added to a system library. To do this, click on Window → Preferences → Java → Installed JREs in the Eclipse main menu. Your Java 8 JDK should be there and marked with a check mark as default. Click on this JDK and select the Edit… button from the right-hand menu in order to specify the FCanvas JAR file again under Add external JARs… in the dialog window that appears.</p>
<p>From now on you can use FCanvas in all projects.</p>
<h2 id="search-documentation-and-source-files">Search documentation and source files</h2>
<p>The FCanvas library JAR file also contains the source files. This not only allows you to read through the Javadoc comments by hovering over the relevant function call like the Java API, or enter <code>FCanvas.</code> and go through the displayed selection list for code completion, but also to jump to the source code of the respective function at any time by pressing the F3 key. This way you can see exactly how the library is implemented in detail if you are interested.</p>
<h1 id="drawing">Drawing</h1>
<p>FCanvas works with a single graphics window that can be displayed using the <code>FCanvas.show()</code> method. Simple graphic elements, which are listed below, can be drawn on this window.</p>
<p>As is usual in computer graphics, the coordinate system of this window starts with the point (0,0) at the upper left corner of the window. The size of the canvas can be set with the method <code>FCanvas.setCanvasSize(int,int)</code>.</p>
<h2 id="graphic-elements">Graphic elements</h2>
<h3 id="rectangle">Rectangle</h3>
<p>One of the simplest graphic elements is the rectangle. The following code example draws a 100 pixel wide and 200 pixel high rectangle with a black border and transparent fill whose upper left corner is 10 pixels from the top and 30 pixels from the left border.</p>
<pre class="java"><code>FCanvas.drawRectangle(30,10,100,200);
FCanvas.show();</code></pre>
<p>The color, line size, filling and other properties of a rectangle can of course also be changed. How this works is described in the <a href="#modifications">Modifications</a> section.</p>
<h3 id="oval">Oval</h3>
<p>Ovals can be drawn in the same way as rectangles, except that the upper left corner is the corner of the bounding box - i.e. the enclosing rectangle. The easiest way to explain the effect is with the following code example:</p>
<pre class="java"><code>FCanvas.drawRectangle(20,10,100,75);
FCanvas.drawOval(20,10,100,75);
FCanvas.show();</code></pre>
<h3 id="line">line</h3>
<p>Lines are defined by a start and end point. The following example draws a black line from point (100,200) to point (300,400):</p>
<pre class="java"><code>FCanvas.drawLine(100,200,300,400);
FCanvas.show();</code></pre>
<h3 id="text">Text</h3>
<p>A text can also be written at any position. The <em>upper</em> point on the left is not specified, but the anchor point lies on the baseline of the text. The easiest way to demonstrate the concept of baseline is with an example:</p>
<pre class="java"><code>FCanvas.drawLine(100,100,300,100);
FCanvas.drawText(&quot;Alpaca&quot;,100,100);
FCanvas.show();</code></pre>
<h3 id="polygon">Polygon</h3>
<p>The polygon is the only more complicated graphic element of FCanvas. It consists of a series of points <em>p</em><sub>1</sub>, <em>p</em><sub>2</sub>, …, <em>p</em><sub><em>n</em></sub>. Lines are drawn from <em>p</em><sub>1</sub> to <em>p</em><sub>2</sub>, <em>p</em><sub>2</sub> to <em>p</em><sub>3</sub>, and so on up to the last line from <em>p</em><sub><em>n</em></sub> to <em>p</em><sub>1</sub> that completes the shape. The points are passed as two arrays where the first array contains the x-coordinates of the points and the second array contains the y-coordinates.</p>
<p>The following example draws a simple four-pointed star:</p>
<pre class="java"><code>int[] x = {100,110,150,110,100, 90, 50,90};
int[] y = { 50, 90,100,110,150,110,100,90};
FCanvas.drawPolygon(x,y);
FCanvas.show();</code></pre>
<h2 id="modifications">Modifications</h2>
<p>All elements from the <a href="#graphic-elements">Graphic elements</a> section can of course also be further modified.</p>
<p>The following table shows which functions are available for changing element properties and which elements they affect:</p>
<table>
<caption>Overview of which properties apply to which graphic elements</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Property</th>
<th style="text-align: left;">Rectangle</th>
<th style="text-align: left;">Oval</th>
<th style="text-align: left;">Polygon</th>
<th style="text-align: left;">Line</th>
<th style="text-align: left;">Text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>setStrokeWidth</code></td>
<td style="text-align: left;">Stroke width in pixels</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>setStrokeColor</code></td>
<td style="text-align: left;">Stroke color in RGB(A)</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>setFillColor</code></td>
<td style="text-align: left;">Fill color in RGB(A)</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>setRotation</code></td>
<td style="text-align: left;">Rotation in degrees</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>move</code></td>
<td style="text-align: left;">Position as point (<em>x</em>,<em>y</em>)</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
<td style="text-align: left;">✓</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>setFontSize</code></td>
<td style="text-align: left;">Font size</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">✓</td>
</tr>
</tbody>
</table>
<p>In order to be able to identify individual elements, each <code>drawX</code> method returns an ID of type <code>long</code>. All modification methods expect such an ID as a parameter.</p>
<p>The following example shows how to draw a rectangle rotated 45 degrees with a red semi-transparent fill:</p>
<pre class="java"><code>long id = FCanvas.drawRectangle(100,100,50,50);
FCanvas.setFillColor(id,255,0,0,128);
FCanvas.setRotation(id,45);
FCanvas.show();</code></pre>
<h1 id="animations">Animations</h1>
<h2 id="draw-in-steps">Draw in steps</h2>
<p>In order to realize animations, the execution of individual drawing commands must be delayed. In Java there is the method <code>Thread.sleep(long)</code> with which you can put the current process to sleep for a period of time measured in milliseconds. Because this method can throw an <code>InterruptedException</code>, it needs to be wrapped in a try-catch block like in the following example:</p>
<pre class="java"><code>FCanvas.show();
long id = FCanvas.drawOval(10,10,20,20);
//wait half a second
try {Thread.sleep(500);} catch (Exception e) {}
//then fill the circle with blue color
FCanvas.setFillColor(id,0,0,255);</code></pre>
<p>If you’re new to exceptions in Java, don’t get confused. You can simply copy the line that calls <code>Thread.sleep</code> and use it exactly as it is in your code. You only have to enter the number of milliseconds you want to wait for your animation instead of the 500 of course.</p>
<p>It is also important to note that the call to <code>FCanvas.show()</code> must of course always appear as the first line in an animation. Before this call, the window is not displayed and the animation only runs in the background.</p>
<h2 id="animation-loop">Animation loop</h2>
<p>If you are already in the process of programming graphic animations, you usually want to have a smooth picture progression instead of just a few jerky pictures lined up one after the other. To do this, it makes sense to use a loop that can process enough frames per second to create the impression of fluid movement. About 30 frames per second are sufficient for this, i.e. a waiting time of 1000/30 ≅ 33 milliseconds.</p>
<p>This animation loop can then either run until the animation is over or until the window is closed. In the latter case, you can use the <code>FCanvas.isVisible()</code> query as a condition in your while loop.</p>
<p>The following piece of code shows exactly this behavior using the example of a yellow ball circling around a point.</p>
<pre class="java"><code>FCanvas.show();
long id = FCanvas.drawOval(10, 10, 50, 50);
FCanvas.setFillColor(id, 255, 255, 0);
FCanvas.setStrokeColor(id, 0, 0, 0, 0);
int t = 0;
while(FCanvas.isVisible()) {
  int x = (int)Math.round(100*Math.sin(Math.toRadians(t)));
  int y = (int)Math.round(100*Math.cos(Math.toRadians(t)));
  FCanvas.move(id, 200+x, 200+y);
  t = (t+3)% 360;
  try {Thread.sleep(33);} catch (Exception e) {}
}</code></pre>
<h1 id="interactive-animations">Interactive animations</h1>
<p>Now that we have mastered the ability to display fluid movements, the only thing missing for a first small game is the interaction with the user. Of course, this can be easily implemented with <code>JOptionPane</code> via dialog windows, but who wants to click away a dialog every time before he can do anything in a game? FCanvas therefore also offers the possibility to react to input via mouse and keyboard.</p>
<p>As a small disclaimer, it should be noted at the outset that these input queries cannot be implemented completely precisely due to the simple structure of FCanvas. So don’t expect to get completely clean game controls that never miss an input and respond within a few milliseconds. To do this, they would have to use the underlying functionality of the Swing toolkit directly.</p>
<h2 id="single-clicks-and-key-presses">Single clicks and key presses</h2>
<p>Query of the shape “Has the X key been pressed in the last Y milliseconds?” can be realized with the functions <code>FCanvas.wasKeyPressed</code> or <code>FCanvas.wasMouseButtonPressed</code>. The definitions of the number codes for the individual keys can be found in the classes <code>java.awt.event.KeyEvent</code> and <code>java.awt.event.MouseEvent</code>.</p>
<p>Both of the above methods require an explicit specification of how many milliseconds you want to look into the past. Of course it is difficult to choose the right value here. If the time span is too short, you may miss a click. However, if the period of time is too long, it can happen that a single click is counted several times.</p>
<p>In the following example, exactly the same value is used as the waiting time that is also passed to <code>Thread.sleep</code> to color a circle red or blue when the arrow key is pressed to the left or to the right.</p>
<pre class="java"><code>FCanvas.show();
long id = FCanvas.drawOval(10, 10, 50, 50);
while(FCanvas.isVisible()) {
  if (FCanvas.wasKeyPressed(KeyEvent.VK_LEFT, 30)) {
    FCanvas.setFillColor(id, 255, 0, 0);
  } else if (FCanvas.wasKeyPressed(KeyEvent.VK_RIGHT, 30)) {
    FCanvas.setFillColor(id, 0, 0, 255);
  }
  try {Thread.sleep(30);} catch (Exception e) {}
}</code></pre>
<p>If you run this code, you’ll notice that sometimes you have to press a key multiple times before the color changes. This is because in addition to the 30 milliseconds, there are also a few milliseconds for the execution of the actual animation loop.</p>
<p>To get around this problem, there are methods <code>FCanvas.getKeyPressesSinceLastAsked</code> or <code>FCanvas. getMouseButtonPressesSinceLastAsked</code>. As the name suggests, these methods count the keystrokes since the last query. With the very first call, of course, all keystrokes since the start of the program are counted.</p>
<p>The same example would then look like this:</p>
<pre class="java"><code>FCanvas.show();
long id = FCanvas.drawOval(10, 10, 50, 50);
while(FCanvas.isVisible()) {
  if (FCanvas.getKeyPressesSinceLastAsked(KeyEvent.VK_LEFT) &gt; 0) {
    FCanvas.setFillColor(id, 255, 0, 0);
  } else if (FCanvas.getKeyPressesSinceLastAsked(KeyEvent.VK_RIGHT) &gt; 0) {
    FCanvas.setFillColor(id, 0, 0, 255);
  }
  try {Thread.sleep(30);} catch (Exception e) {}
}</code></pre>
<h2 id="hold-key-pressed-down">Hold key pressed down</h2>
<p>If it should also be possible to hold down a key for a prolonged duration, there are also the methods <code>FCanvas.isKeyDown</code> or <code>FCanvas.isMouseButtonDown</code>. These indicate the state of the button (pressed or not pressed) at the current time of the query.</p>
<p>The example below shows a circle that can be moved left or right by holding down the arrow keys.</p>
<pre class="java"><code>FCanvas.show();
int x = 300;
int y = 300;
long id = FCanvas.drawOval(x, y, 50, 50);
while(FCanvas.isVisible()) {
  if (FCanvas.isKeyDown(KeyEvent.VK_LEFT)) {
    x -= 3;
  } else if (FCanvas.isKeyDown(KeyEvent.VK_RIGHT)) {
    x += 3;
  }
  FCanvas.move(id,x,y);
  try {Thread.sleep(30);} catch (Exception e) {}
}</code></pre>
<h2 id="mouse-position">Mouse position</h2>
<p>Of course, the mouse position can also be queried with the methods <code>FCanvas. getLastMouseX</code> and <code>FCanvas.getLastMouseY</code>. The following example implements a circle that follows the mouse.</p>
<pre class="java"><code>FCanvas.show();
int x = 300;
int y = 300;
long id = FCanvas.drawOval(x, y, 50, 50);
while(FCanvas.isVisible()) {
  x = FCanvas.getLastMouseX()-25;
  y = FCanvas.getLastMouseY()-25;
  FCanvas.move(id,x,y);
  try {Thread.sleep(30);} catch (Exception e) {}
}</code></pre>
<h1 id="others">Others</h1>
<p>This section covers any other special features of FCanvas that don’t fit into any of the other sections.</p>
<h2 id="concealments">Concealments</h2>
<p>When two graphic elements overlap, the element created later overlays the one created first. This order cannot be changed. Should it ever be absolutely necessary, you can simply delete the element that should move up with <code>FCanvas.remove</code> and then create it again.</p>
<h2 id="performance-and-update-behavior">Performance and update behavior</h2>
<p>FCanvas normally redraws the entire image each time a drawing method is called. If you want to program an animation with very small time steps, it can make sense to switch off these automatic updates with the method <code>FCanvas.setAutoUpdate</code>. You then have to do the drawing manually using the <code>FCanvas.update</code> method.</p>
<h2 id="canvas-widthheight">Canvas Width/Height</h2>
<p>You can access the size of the canvas (window size without the border) with the <code>FCanvas.getCanvasWidth</code> or <code>FCanvas.getCanvasHeight</code> methods. You can also set the canvas size from code using the <code>FCanvas.setCanvasSize</code> method.</p>
<h2 id="save-as-image-file">Save as image file</h2>
<p>Since version 1.3 you can save the contents of the canvas window as an image file using the <code>FCanvas.saveToImage</code> method.</p></div>
<div id="all-packages-table">
<div class="caption"><span>Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color all-packages-table all-packages-table-tab1"><a href="de/thm/mni/oop/fcanvas/package-summary.html">de.thm.mni.oop.fcanvas</a></div>
<div class="col-last even-row-color all-packages-table all-packages-table-tab1">&nbsp;</div>
<div class="col-first odd-row-color all-packages-table all-packages-table-tab1"><a href="de/thm/mni/oop/fcanvas/components/package-summary.html">de.thm.mni.oop.fcanvas.components</a></div>
<div class="col-last odd-row-color all-packages-table all-packages-table-tab1">&nbsp;</div>
</div>
</div>
</main>
</div>
</div>
</body>
</html>
